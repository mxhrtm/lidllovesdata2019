<div class="dashboard-page-wrapper">
    <div class="dashboard-page-wrapper__selector">
        <button mat-button-raised (click)="op.toggle($event)">
                Push me
            </button>
        <p-overlayPanel #op>
            <div class="dashboard-page-wrapper__selector__overlay">
                <mat-list role="list">
                    <mat-list-item role="listitem">Stuttgart</mat-list-item>
                    <mat-list-item role="listitem">Nicht Stuttgart</mat-list-item>
                </mat-list>
            </div>
        </p-overlayPanel>
    </div>
    <div class="dashboard-page-wrapper__header">
        <img src="../../../../assets/img/Lidl-Logo.png" alt="Lidl Logo">
        <span>Dashboard</span>
        <!-- <mat-form-field>
            <mat-select placeholder="Select">
                <mat-option value="option">Stuttgart</mat-option>
                <mat-option value="option">Nicht Stuttgart</mat-option>
            </mat-select>
        </mat-form-field> -->
    </div>
    <div class="dashboard-page-wrapper__contnet">
        <mat-card class="content-card">
            <div class="content-card__headline">
                <span>Morgen, Montag 8. April 2019</span>
            </div>
            <div class="content-card__body">
                <img src="../../../../assets/img/sunny_s_cloudy.png" alt="Sunny ">
                <div class="content-card__body__weather">
                    <span>Aussicht: sonnig</span>
                    <span>Regenwahrscheinlichkeit: 8%</span>
                </div>
            </div>
        </mat-card>
        <mat-card class="content-card">
            <div class="content-card__headline">
                <span>Super Auswahl!</span>
            </div>
            <p-chart type="bar" [data]="_bardata"></p-chart>
        </mat-card>
        <mat-card class="content-card table-card">
            <div class="content-card__headline">
                <span>Bestellungen</span>
            </div>
            <div style="overflow-y: scroll; display: flex; margin-bottom: 10px; flex: 1">
                <div *ngIf="!generated" style="flex:1;">jhv</div>
                <table *ngIf="generated" mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            
                    <!-- Position Column -->
                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef> No. </th>
                        <td mat-cell *matCellDef="let element"> {{element.position}} </td>
                    </ng-container>
                    
                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                    </ng-container>
                    
                    <!-- Weight Column -->
                    <ng-container matColumnDef="stock">
                        <th mat-header-cell *matHeaderCellDef> Stock </th>
                        <td mat-cell *matCellDef="let element"> {{element.stock}} </td>
                    </ng-container>
                    
                    <!-- Symbol Column -->
                    <ng-container matColumnDef="ai_reco">
                        <th mat-header-cell *matHeaderCellDef> AI Recommendation </th>
                        <td mat-cell *matCellDef="let element"> {{element.ai_reco}} </td>
                    </ng-container>
                    
                    <!-- Symbol Column -->
                    <ng-container matColumnDef="weather_factor">
                        <th mat-header-cell *matHeaderCellDef> Weather Bias </th>
                        <td mat-cell *matCellDef="let element"> {{element.weather_factor * 100}}% </td>
                    </ng-container>
                    
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
            <button [ngClass]="{'table-card__button-generate': (!generated)}" mat-button-raised (click)="generateTable()">Bestellen</button>
        </mat-card>

    </div>
</div>